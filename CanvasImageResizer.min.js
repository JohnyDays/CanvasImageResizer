CanvasImageResizer=new CanvasImageResizer()function CanvasImageResizer(){this.canvas=document.createElement('canvas');this.canResize=function f(){return!!(this.canvas.getContext&&this.canvas.getContext('2d'))}this.resizeImageFromSource=function g(b,c,d,e){var a=this.canvas a.width=c a.height=d imageObject=new Image();imageObject.src=b imageObject.onload=function(){a.getContext('2d').clearRect(0,0,a.width,a.height)a.getContext('2d').drawImage(this,0,0,parseInt(c),parseInt(d))e(a.toDataURL(),b)}}this.resizeImageFromObject=function h(b,c,d,e){var a=this.canvas;a.width=c a.height=d if(b.complete){a.getContext('2d').clearRect(0,0,a.width,a.height)a.getContext('2d').drawImage(b,0,0,c,d)e(a.toDataURL(),b)}else{b.onload=function(){a.getContext('2d').clearRect(0,0,a.width,a.height)a.getContext('2d').drawImage(b,0,0,c,d)e(a.toDataURL(),b)}}}}
